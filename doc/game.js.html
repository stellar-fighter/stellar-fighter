<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: game.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: game.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import {AssetMan} from './assets';
import {Vec} from './vec';
/**
 * A Game class to manage states and assets
 */
class Game {
  /**
   * Create a new Game object with empty states array and new AssetManager object
   * @constructor
   */
  constructor() {
    this.states = [];
    this.assetMan = new AssetMan();
    this.assetMan.addAudio('shoot001', './asset/space-shooter-redux/Bonus/sfx_laser1.ogg');
    this.assetMan.addAudio('shoot002', './asset/space-shooter-redux/Bonus/sfx_laser2.ogg');
    this.assetMan.addImage('bg010', './asset/nebula/nebula10.png');
    this.assetMan.addImage('sheet001', './asset/space-shooter-redux/Spritesheet/sheet.png');
    const sheet001 = this.assetMan.images.sheet001;
    sheet001.onload = () => {
      this.assetMan.addCanvas(
        'fighter001',
        sheet001,
        new Vec(211, 941),
        new Vec(99, 75),
      );
      this.assetMan.addCanvas(
        'alien001',
        sheet001,
        new Vec(425, 384),
        new Vec(93, 84),
      );
      this.assetMan.addCanvas(
        'alien002',
        sheet001,
        new Vec(120, 520),
        new Vec(104, 84),
      );
      this.assetMan.addCanvas(
        'bullet001',
        sheet001,
        new Vec(698, 795),
        new Vec(38, 37),
      );
      this.assetMan.addCanvas(
        'item001',
        sheet001,
        new Vec(444, 91),
        new Vec(91, 91),
      );
    };
  }
  pushState(state) {
    this.states.push(state);
  }
  popState() {
    this.states[this.states.length - 1].destroy();
    this.states.pop();
  }
  switchState(state) {
    this.states[this.states.length - 1].destroy();
    this.states[this.states.length - 1] = state;
  }
  flushStates() {
    while(this.states.length - 1 >= 0) {
      this.states[this.states.length - 1].destroy();
      this.states.pop();
    }
  }
  get state() {
    return this.states[this.states.length - 1];
  }
  setTime(timeStamp) {
    if(this.states.length > 0)
      this.states[this.states.length - 1].setTime(timeStamp);
  }
  update() {
    for(let index = this.states.length - 1; index >= 0; --index)
      this.states[index].update();
  }
  render() {
    for(let index = 0; index &lt; this.states.length; ++index)
      this.states[index].render();
  }
}

export {Game};
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Alien001.html">Alien001</a></li><li><a href="Alien002.html">Alien002</a></li><li><a href="AssetMan.html">AssetMan</a></li><li><a href="Background.html">Background</a></li><li><a href="Bullet001.html">Bullet001</a></li><li><a href="Camera.html">Camera</a></li><li><a href="CamOutComp.html">CamOutComp</a></li><li><a href="CamOutSystem.html">CamOutSystem</a></li><li><a href="CollComp.html">CollComp</a></li><li><a href="CollSystem.html">CollSystem</a></li><li><a href="Comp.html">Comp</a></li><li><a href="CtrlComp.html">CtrlComp</a></li><li><a href="Entity.html">Entity</a></li><li><a href="EntityMan.html">EntityMan</a></li><li><a href="Fighter001.html">Fighter001</a></li><li><a href="Game.html">Game</a></li><li><a href="GameOverState.html">GameOverState</a></li><li><a href="HpComp.html">HpComp</a></li><li><a href="HpDisplay.html">HpDisplay</a></li><li><a href="HpSystem.html">HpSystem</a></li><li><a href="Item001.html">Item001</a></li><li><a href="MovComp.html">MovComp</a></li><li><a href="MovSystem.html">MovSystem</a></li><li><a href="PlayerSystem.html">PlayerSystem</a></li><li><a href="PlayState.html">PlayState</a></li><li><a href="PosComp.html">PosComp</a></li><li><a href="SceneNode.html">SceneNode</a></li><li><a href="ScoreComp.html">ScoreComp</a></li><li><a href="ScoreDisplay.html">ScoreDisplay</a></li><li><a href="ShootingComp.html">ShootingComp</a></li><li><a href="ShootingSystem.html">ShootingSystem</a></li><li><a href="SizeComp.html">SizeComp</a></li><li><a href="Sprite.html">Sprite</a></li><li><a href="State.html">State</a></li><li><a href="System.html">System</a></li><li><a href="TeamComp.html">TeamComp</a></li><li><a href="Timer.html">Timer</a></li><li><a href="Vec.html">Vec</a></li><li><a href="VisComp.html">VisComp</a></li></ul><h3>Global</h3><ul><li><a href="global.html#main">main</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.2</a> on Sat Jun 08 2019 19:07:45 GMT+0900 (KST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
